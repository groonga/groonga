plugin_register language_model/knn
[[0,0.0,0.0],true]
table_create Data TABLE_NO_KEY
[[0,0.0,0.0],true]
column_create Data text COLUMN_SCALAR ShortText
[[0,0.0,0.0],true]
column_create Data rabitq_code COLUMN_SCALAR ShortBinary
[[0,0.0,0.0],true]
load --table Data
[
{"text": "I am a king."},
{"text": "I am a queen."}
]
[[0,0.0,0.0],2]
table_create RaBitQ TABLE_HASH_KEY ShortBinary   --default_tokenizer 'TokenLanguageModel("model", "hf:///groonga/all-MiniLM-L6-v2-Q4_K_M-GGUF",                                           "code_column", "rabitq_code")'
[[0,0.0,0.0],true]
column_create RaBitQ data_text COLUMN_INDEX Data text
[[0,0.0,0.0],true]
#|w| load: special_eos_id is not in special_eog_ids - the tokenizer config may be incorrect
#|w| llama_init_from_model: model default pooling_type is [1], but [-1] was specified
select Data   --filter 'language_model_knn(text, "man", 10)'   --sort_keys -_score   --output_columns text
[[0,0.0,0.0],[[[2],[["text","ShortText"]],["I am a king."],["I am a queen."]]]]
select Data   --filter 'language_model_knn(text, "woman", 10)'   --sort_keys -_score   --output_columns text
[[0,0.0,0.0],[[[2],[["text","ShortText"]],["I am a queen."],["I am a king."]]]]
