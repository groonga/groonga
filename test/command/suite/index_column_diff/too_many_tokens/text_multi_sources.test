table_create Terms \
  --flags TABLE_PAT_KEY \
  --key_type ShortText \
  --default_tokenizer TokenDelimit

table_create Diaries TABLE_NO_KEY
column_create Diaries title COLUMN_SCALAR ShortText
column_create Diaries content COLUMN_SCALAR LongText

column_create Terms index \
  COLUMN_INDEX|WITH_POSITION|WITH_SECTION \
  Diaries title,content

log_level --level error
#@add-important-log-levels error
# 60 = 1min
#@timeout 60
#@disable-logging
#@generate-series 1 1 Diaries '{"title" => "a " * 2, "content" => "a " * (0x1ffff - 1)}'
#@enable-logging
#@timeout default
log_level --level notice

index_column_diff Terms index
